# 既存CADメーカーにとっての障壁とその対策

このドキュメントでは、「メーカー製品をOpenCascade対応形式にする」という工程が、多くのメーカーにとって大きなハードルとなる問題について検討し、対策を提案します。

## 課題の認識：なぜハードルが高いか？

メーカーは通常、SOLIDWORKSやCATIAのような **商用CAD（STEP/IGES）** のデータを持っていますが、OpenCascade.jsで利用できるような **プログラムコード（JavaScript/C++）** としての形状定義を持っていません。
Web上でパラメトリック（可変）な形状を扱うには、ただ単にSTEPを表示するだけでは不十分で、パラメータに応じて再生成するロジックが必要です。
これをメーカー自身に実装させるのは、設計者にプログラミングスキルを要求することになり、現実的ではありません。

## 解決策の提案

「撤退」という結論を出す前に、以下の3つのアプローチを検討すべきです。

### 1. 受託制作・変換サービス（High Touch / Service Model）

もっとも現実的かつ即効性のあるアプローチです。
メーカーに「コードを書かせる」のではなく、メーカーから図面やSTEPファイルを預かり、**プラットフォーム側（または認定バートナー）がOpenCascadeコードを作成・登録する** モデルです。

*   **メリット**:
    *   メーカーの導入障壁がほぼゼロになる。
    *   品質が担保される。
    *   プラットフォーム利用料とは別に「初期導入費」としてマネタイズ可能。
*   **デメリット**:
    *   スケーラビリティが低い（人的リソースに依存）。
*   **推奨アクション**:
    *   まずはこのモデルで少数の実績（ユースケース）を作る。
    *   社内に「CADエンジニア（OpenCascade記述担当）」を配置する。

### 2. セミ・パラメトリック方式（Hybrid Approach）

「完全なパラメトリック（ゼロからコードで生成）」を諦め、**「既存モデルの変形・加工」** に特化するアプローチです。
ベースとなる形状（STEPなど）をインポートし、Web上で特定の操作（穴あけ、ストレッチ、部品配置）だけをパラメータ化します。

*   **技術的な仕組み**:
    *   ベース形状（STEPファイル）をロード。
    *   ユーザー定義の座標・ベクトルに対して `BRepAlgoAPI_Cut`（ブーリアン演算）や `BRepBuilderAPI_Transform`（移動・回転）を適用するラッパー関数を用意。
*   **メリット**:
    *   メーカーは既存の3D資産を流用できる。
    *   コードを書く量が激減する（あるいはGUIで設定可能になる）。
*   **デメリット**:
    *   複雑な内部構造の連動変形など、高度なパラメトリック性は失われる。

### 3. 特化型テンプレートの提供（Template Library）

特定の業界・製品群（例：アルミフレーム、棚、梱包箱、配管）に絞り、あらかじめ汎用的なパラメトリックモデル（テンプレート）を用意するアプローチです。
メーカーは「テンプレートを選んで、自社の寸法制約やテクスチャを適用するだけ」にします。

*   **メリット**:
    *   導入が非常に容易（No-Code）。
    *   システム側で制御可能ためバグが少ない。
*   **デメリット**:
    *   対応できる製品の幅が狭まる。
    *   ニッチな特注品には対応できない。

## 結論

**撤退する必要はありません。**
しかし、ビジネスモデルと開発ロードマップの調整が必要です。

1.  **短期的戦略**: 「受託制作サービス」として立ち上げ、メーカーの工数をゼロにする。
2.  **中期的戦略**: よくある形状パターン（直方体、円筒、フレーム構造など）を「テンプレート」としてライブラリ化し、セルフサービスで登録できる範囲を広げる。
3.  **長期的戦略**: STEPファイルを解析し、あるいはGUI上で直感的にパラメータを付与できる「No-Code/Low-Code CAD Builder」ツールの開発を検討する。

「メーカーにコードを書かせる」のが無理なだけであり、「Web上でパラメトリックな発注ができる」という体験自体の価値は依然として高いはずです。まずは**プラットフォーム側が泥臭くデータを整備する**ところから始めるのが定石です。
